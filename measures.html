<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Measures | Safe Units</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>body{font-family:'Helvetica Neue', HelveticaNeue, Helvetica, Arial, sans-serif;font-size:16px}body pre, body code{font-family:'Ubuntu Mono', monospace}h1, h2, h3, h4, h5, h6{font-family:'Open Sans', sans-serif}h2, h3{margin-left:-20px}body h1{color:#008075;margin:0;margin-left:-20px;padding-bottom:20px;padding-top:25px}.code-block_f1ad8bvh{border-radius:3px}.code-line_f18fcql6{color:#00998C}.link_f1f6a5l8{color:#BF8C0A;text-decoration:none}.link_f1f6a5l8:hover{color:#A67908;text-decoration:underline}.sidebar_f1rerch0{font-size:14px;min-width:250px;overflow:auto}.page-link_fm5hrlc{background:#E1E8ED;color:#293742;display:block;font-weight:bold;margin:5px 0;padding:5px 10px;text-decoration:none}.page-link_fm5hrlc:hover{background:#BFCCD6}.f1lk66qz{color:#008075}.fsmhnc8{color:#293742}.f7srduj{background:#008075;color:#F5F8FA}.f7srduj:hover{background:#008075;color:#CED9E0}.section-link_f11olvty{color:#293742;display:block;text-decoration:none}.section-link_f11olvty:hover{background:#E1E8ED}.section_fhlxm4f{padding:3px 20px}.subsection_f1uja56n{color:#5C7080;padding:3px 40px}.links_fyye2pd:last-child{margin-bottom:20px}.links_fyye2pd:first-child{margin-top:20px}.page_f1ujoio{display:flex;flex-direction:row;height:100vh;width:100vw}.contents_f1o0aovl{background:#EBF1F5;box-shadow:inset 15px 0 20px -20px #182026;flex:1 1 auto;overflow:auto;position:relative}.body_fkuzg3a{margin:0 25px 25px 45px;max-width:800px}.end-matter_f4p462k{border-top:1px solid #BFCCD6;font-size:14px;margin-top:20px;padding-top:20px}.license_fm83fiy{color:#738694;font-size:12px;margin-top:20px;text-align:center;text-shadow:0 1px 0 white}</style>
        <link rel="stylesheet" type="text/css" media="screen" href="styles/monokai.css" />
<link rel="stylesheet" type="text/css" media="screen" href="styles/normalize.css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono" rel="stylesheet">
    </head>
    <body><div class="page_f1ujoio" data-reactroot=""><div class="sidebar_f1rerch0"><div class="links_fyye2pd"><a class="f1lk66qz page-link_fm5hrlc" href="index.html">Safe Units</a></div><div class="links_fyye2pd"><a class="fsmhnc8 f7srduj page-link_fm5hrlc" href="measures.html#top">Measures</a><a class="section_fhlxm4f section-link_f11olvty" href="#construction">Construction</a><a class="subsection_f1uja56n section-link_f11olvty" href="#measure-of"><code class="code-line_f18fcql6">Measure.of</code></a><a class="subsection_f1uja56n section-link_f11olvty" href="#measure-dimensionless"><code class="code-line_f18fcql6">Measure.dimensionless</code></a><a class="subsection_f1uja56n section-link_f11olvty" href="#measure-dimension"><code class="code-line_f18fcql6">Measure.dimension</code></a><a class="subsection_f1uja56n section-link_f11olvty" href="#measure-ismeasure"><code class="code-line_f18fcql6">Measure.isMeasure</code></a><a class="subsection_f1uja56n section-link_f11olvty" href="#measure-prefix"><code class="code-line_f18fcql6">Measure.prefix</code></a><a class="section_fhlxm4f section-link_f11olvty" href="#operations">Operations</a><a class="subsection_f1uja56n section-link_f11olvty" href="#negation">Negation</a><a class="subsection_f1uja56n section-link_f11olvty" href="#addition">Addition</a><a class="subsection_f1uja56n section-link_f11olvty" href="#subtraction">Subtraction</a><a class="subsection_f1uja56n section-link_f11olvty" href="#multiplication">Multiplication</a><a class="subsection_f1uja56n section-link_f11olvty" href="#division">Division</a><a class="subsection_f1uja56n section-link_f11olvty" href="#scalar-multiplication">Scalar Multiplication</a><a class="subsection_f1uja56n section-link_f11olvty" href="#exponentiation">Exponentiation</a><a class="subsection_f1uja56n section-link_f11olvty" href="#reciprocals">Reciprocals</a><a class="subsection_f1uja56n section-link_f11olvty" href="#static-math">Static Math</a><a class="subsection_f1uja56n section-link_f11olvty" href="#roots">Roots</a><a class="subsection_f1uja56n section-link_f11olvty" href="#comparisons">Comparisons</a><a class="subsection_f1uja56n section-link_f11olvty" href="#symbols">Symbols</a><a class="subsection_f1uja56n section-link_f11olvty" href="#formatting">Formatting</a><a class="subsection_f1uja56n section-link_f11olvty" href="#unsafe-mappings">Unsafe Mappings</a><a class="section_fhlxm4f section-link_f11olvty" href="#representation">Representation</a><a class="section_fhlxm4f section-link_f11olvty" href="#function-wrappers">Function Wrappers</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_fm5hrlc" href="generic-measures.html">Generic Measures</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_fm5hrlc" href="defining-quantities.html">Defining Quantities</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_fm5hrlc" href="limitations.html">Limitations</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_fm5hrlc" href="builtin.html">Built-in Units</a></div><a class="f1lk66qz page-link_fm5hrlc" href="https://github.com/jscheiny/safe-units">View on github</a></div><div class="contents_f1o0aovl"><div class="body_fkuzg3a"><div id="top"></div><h1 id="measures">Measures</h1><p>The <code class="code-line_f18fcql6">Measure</code> class provides the core of the functionality for Safe Units. A <code class="code-line_f18fcql6">Measure</code> is a value associated with a unit (e.g. 5 meters, 10 seconds). A <code class="code-line_f18fcql6">Measure</code> may be given a symbol to indicate that it itself represent some unit. For example, 0.3048 meters is one foot and therefore might be given the symbol <code class="code-line_f18fcql6">ft</code>. Measures are immutable and any operation on a measure returns a new measure.</p><p><strong>Note:</strong> The <code class="code-line_f18fcql6">Measure</code> class provides functionality for manipulating units with numeric values represented by the JavaScript <code class="code-line_f18fcql6">number</code> type. For different numeric types see <a class="link_f1f6a5l8" href="generic-measures.html">Generic Measures</a>.</p><h2 id="construction">Construction</h2><h3 id="measure-of"><code class="code-line_f18fcql6">Measure.of</code></h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure.of&lt;U&gt;(value: <span class="hljs-built_in">number</span>, quantity: Measure&lt;U&gt;, symbol?: <span class="hljs-built_in">string</span>): Measure&lt;U&gt;
</code></pre><p>Creates a measure that is a scalar multiple of a given measure. An optional symbol maybe provided to name the resulting measure.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> d1 = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> feet = Measure.of(<span class="hljs-number">0.3048</span>, meters, <span class="hljs-string">"ft"</span>);
<span class="hljs-keyword">const</span> d2 = Measure.of(<span class="hljs-number">10</span>, feet);
<span class="hljs-keyword">const</span> minutes = Measure.of(<span class="hljs-number">60</span>, seconds, <span class="hljs-string">"min"</span>);
</code></pre><h3 id="measure-dimensionless"><code class="code-line_f18fcql6">Measure.dimensionless</code></h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure.dimensionless(value: <span class="hljs-built_in">number</span>): Measure&lt;{}&gt;
</code></pre><p>Creates a dimensionless measure value.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> scalar = Measure.dimensionless(<span class="hljs-number">2</span>);
<span class="hljs-keyword">const</span> distance = Measure.of(<span class="hljs-number">20</span>, meters);
<span class="hljs-keyword">const</span> doubled = distance.times(scalar); <span class="hljs-comment">// 40 m</span>
</code></pre><h3 id="measure-dimension"><code class="code-line_f18fcql6">Measure.dimension</code></h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure.dimension&lt;Dim <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt;(dim: Dim, symbol?: <span class="hljs-built_in">string</span>): Measure&lt;...&gt;
</code></pre><p>Constructs a dimension of a unit system along with a base unit for that dimension. For more information see <a class="link_f1f6a5l8" href="defining-quantities.html">Defining Quantities</a>.</p><h3 id="measure-ismeasure"><code class="code-line_f18fcql6">Measure.isMeasure</code></h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure.isMeasure(value: <span class="hljs-built_in">any</span>): value is Measure&lt;<span class="hljs-built_in">any</span>&gt;
</code></pre><p>Since <code class="code-line_f18fcql6">Measure</code> isn<!-- -->&#x27;<!-- -->t technically a class, you can<!-- -->&#x27;<!-- -->t check that a value is a measure by using <code class="code-line_f18fcql6">instanceof</code>. Instead, use this method to determine if a given value is a <code class="code-line_f18fcql6">Measure</code>.</p><h3 id="measure-prefix"><code class="code-line_f18fcql6">Measure.prefix</code></h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure.prefix(prefix: <span class="hljs-built_in">string</span>, multiplier: <span class="hljs-built_in">number</span>): PrefixFn
</code></pre><p>Creates a function which, when given a measure, applies a prefix to that measure<!-- -->&#x27;<!-- -->s symbol and multiplies it by a given dimensionless value.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> kilo = Measure.prefix(<span class="hljs-string">"k"</span>, <span class="hljs-number">1000</span>);
<span class="hljs-keyword">const</span> kilometers = kilo(meters); <span class="hljs-comment">// 1000 m</span>

<span class="hljs-keyword">const</span> distance = Measure.of(<span class="hljs-number">20</span>, kilometers); <span class="hljs-comment">// 20000 m</span>
distance.in(km) <span class="hljs-comment">// 20 km</span>
</code></pre><h2 id="operations">Operations</h2><h3 id="negation">Negation</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.negate(): Measure&lt;U&gt;
</code></pre><p>Returns a new measure containing the negative value of the original.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> pos = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> neg = pos.negate(); <span class="hljs-comment">// -30 m</span>
</code></pre><h3 id="addition">Addition</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.plus(other: Measure&lt;U&gt;): Measure&lt;U&gt;
Measure.add&lt;U&gt;(left: Measure&lt;U&gt;, right: Measure&lt;U&gt;): Measure&lt;U&gt;
Measure.sum&lt;U&gt;(first: Measure&lt;U&gt;, ...rest: <span class="hljs-built_in">Array</span>&lt;Measure&lt;U&gt;&gt;): Measure&lt;U&gt;
</code></pre><p>Measures may only be added if they have the same unit. This will produce a new measure with the same unit. The <code class="code-line_f18fcql6">Measure.add</code> static function is an alias for <code class="code-line_f18fcql6">a.plus(b)</code>. The <code class="code-line_f18fcql6">Measure.sum</code> method must be given a list of one or more units, since we can<!-- -->&#x27;<!-- -->t infer the unit for an empty list.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> d1 = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> d2 = Measure.of(<span class="hljs-number">10</span>, meters);
<span class="hljs-keyword">const</span> d3 = Measure.of(<span class="hljs-number">100</span>, feet);
<span class="hljs-keyword">const</span> t1 = Measure.of(<span class="hljs-number">2</span>, minutes);

<span class="hljs-keyword">const</span> sum1 = d1.plus(d2); <span class="hljs-comment">// 40 m</span>
<span class="hljs-keyword">const</span> sum2 = Measure.add(d1, d2); <span class="hljs-comment">// 40 m</span>
<span class="hljs-keyword">const</span> sum3 = Measure.dim(d1, d2, d3); <span class="hljs-comment">// 140m</span>

<span class="hljs-keyword">const</span> good = d1.plus(d3); <span class="hljs-comment">// Fine because both are lengths</span>
<span class="hljs-keyword">const</span> bad = d1.plus(t1); <span class="hljs-comment">// ERROR: Cannot add a distance to a time unit</span>
</code></pre><h3 id="subtraction">Subtraction</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.minus(other: Measure&lt;U&gt;): Measure&lt;U&gt;
Measure.subtract&lt;U&gt;(left: Measure&lt;U&gt;, right: Measure&lt;U&gt;): Measure&lt;U&gt;
</code></pre><p>Measures may only be subtracted if they have the same unit. This will produce a new measure with the same unit. All of these functions behave the same.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> d1 = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> d2 = Measure.of(<span class="hljs-number">10</span>, meters);
<span class="hljs-keyword">const</span> t1 = Measure.of(<span class="hljs-number">2</span>, minutes);

<span class="hljs-keyword">const</span> diff1 = d1.minus(d2); <span class="hljs-comment">// -20 m</span>
<span class="hljs-keyword">const</span> diff2 = Measure.subtract(d2, d1) <span class="hljs-comment">// 20 m</span>

<span class="hljs-keyword">const</span> bad = t1.minus(d1); <span class="hljs-comment">// ERROR: Cannot subtract a distance from a time unit</span>
</code></pre><h3 id="multiplication">Multiplication</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.times&lt;V&gt;(other: Measure&lt;V&gt;): Measure&lt;MultiplyUnits&lt;U, V&gt;&gt;
Measure.multiply&lt;U, V&gt;(left: Measure&lt;U&gt;, right: Measure&lt;V&gt;): Measure&lt;MultiplyUnits&lt;U, V&gt;&gt;
</code></pre><p>Multiplies two measures together and returns a new measure. The resulting unit is computed at compile time to be the result of multiplying the arguments<!-- -->&#x27;<!-- --> units together.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> mass = Measure.of(<span class="hljs-number">10</span>, kilograms);
<span class="hljs-keyword">const</span> acceleration = Measure.of(<span class="hljs-number">9.8</span>, metersPerSecondsSquared);

<span class="hljs-comment">// Works! The result of mass times acceleration is force</span>
<span class="hljs-keyword">const</span> force: Force = mass.times(acceleration); <span class="hljs-comment">// 98 N</span>

<span class="hljs-comment">// ERROR: A force quantity cannot be assigned to a pressure quantity</span>
<span class="hljs-keyword">const</span> bad: Pressure = Measure.multiply(mass, acceleration);
</code></pre><p><strong>Note:</strong> There are limitations on what measures you may multiply together. See <a class="link_f1f6a5l8" href="limitations.html">Limitations</a>.</p><h3 id="division">Division</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.div&lt;V&gt;(other: Measure&lt;V&gt;): Measure&lt;DivideUnits&lt;U, V&gt;&gt;
Measure&lt;U&gt;.over&lt;V&gt;(other: Measure&lt;V&gt;): Measure&lt;DivideUnits&lt;U, V&gt;&gt;
Measure&lt;U&gt;.per&lt;V&gt;(other: Measure&lt;V&gt;): Measure&lt;DivideUnits&lt;U, V&gt;&gt;
Measure.divide&lt;U, V&gt;(left: Measure&lt;U&gt;, right: Measure&lt;V&gt;): Measure&lt;DivideUnits&lt;U, V&gt;&gt;
</code></pre><p>Divides two measures together and returns a new measure. The resulting unit is computed at compile time to be the result of dividing the arguments<!-- -->&#x27;<!-- --> units together. All of these functions behave the same and a provided to make writing readable units easier.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> distance = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> time = Measure.of(<span class="hljs-number">10</span>, seconds);

<span class="hljs-comment">// Works! The result of distance over time is velocity</span>
<span class="hljs-keyword">const</span> velocity: Velocity = distance.over(time); <span class="hljs-comment">// 300 m*s</span>

<span class="hljs-comment">// ERROR: A velocity quantity cannot be assigned to an acceleration quantity</span>
<span class="hljs-keyword">const</span> bad: Acceleration = Measure.divide(distance, time);
</code></pre><p><strong>Note:</strong> There are limitations on what measures you may divide. See <a class="link_f1f6a5l8" href="limitations.html">Limitations</a>.</p><h3 id="scalar-multiplication">Scalar Multiplication</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.scale(value: <span class="hljs-built_in">number</span>): Measure&lt;U&gt;
</code></pre><p>A convenience method for multiplying a measure by a dimensionless value.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> t = Measure.of(<span class="hljs-number">10</span>, seconds);
<span class="hljs-keyword">const</span> doubledShort = t.scale(<span class="hljs-number">2</span>); <span class="hljs-comment">// 20 s</span>
<span class="hljs-keyword">const</span> doubledLong = t.times(Measure.dimensionless(<span class="hljs-number">2</span>));
</code></pre><h3 id="exponentiation">Exponentiation</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.toThe&lt;E&gt;(exponent: E): Measure&lt;ExponentiateUnit&lt;U, E&gt;&gt;
Measure.pow&lt;U, E&gt;(measure: Measure&lt;U&gt;, exponent: E): Measure&lt;ExponentiateUnit&lt;U, E&gt;&gt;

Measure&lt;U&gt;.squared(): Measure&lt;ExponentiateUnit&lt;U, <span class="hljs-number">2</span>&gt;&gt;
Measure&lt;U&gt;.cubed(): Measure&lt;ExponentiateUnit&lt;U, <span class="hljs-number">2</span>&gt;&gt;
</code></pre><p>The first two methods raise a measure<!-- -->&#x27;<!-- -->s value and unit to a given exponent (within a limited range). The last two methods, <code class="code-line_f18fcql6">squared</code> and <code class="code-line_f18fcql6">cubed</code>, are convenience methods for <code class="code-line_f18fcql6">measure.toThe(2)</code> and <code class="code-line_f18fcql6">measure.toThe(3)</code> respectively.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> side = Measure.of(<span class="hljs-number">10</span>, meters);

<span class="hljs-keyword">const</span> area: Area = side.squared(); <span class="hljs-comment">// 100 m^2</span>
<span class="hljs-keyword">const</span> volume: Volume = side.cubed(); <span class="hljs-comment">// 1000 m^3</span>

<span class="hljs-keyword">const</span> s: Length = volume.toThe(<span class="hljs-number">-3</span>); <span class="hljs-comment">// 10 m</span>
</code></pre><p><strong>Note:</strong> There are limitations on what measures you may exponentiate. See <a class="link_f1f6a5l8" href="Limitations">Limitations</a>.</p><h3 id="reciprocals">Reciprocals</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.inverse(): Measure&lt;ExponentiateUnit&lt;U, <span class="hljs-number">-1</span>&gt;&gt;
Measure&lt;U&gt;.reciprocal(): Measure&lt;ExponentiateUnit&lt;U, <span class="hljs-number">-1</span>&gt;&gt;
</code></pre><p>Computes the reciprocal of the value and unit of the measure. Both methods are identical and equivalent to <code class="code-line_f18fcql6">measure.toThe(-1)</code>.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> freq: Frequency = Measure.of(<span class="hljs-number">30</span>, hertz); <span class="hljs-comment">// 30 1/s</span>

<span class="hljs-keyword">const</span> cycle: Time = freq.inverse(); <span class="hljs-comment">// 1/30 s</span>
</code></pre><h3 id="static-math">Static Math</h3><p>The <code class="code-line_f18fcql6">Measure</code> class contains a number of static methods from the JavaScript <code class="code-line_f18fcql6">Math</code> object wrapped to work on measures. Many of these functions take in a single measure and return a single measure without changing its unit:</p><ul><li><code class="code-line_f18fcql6">Measure.abs</code></li><li><code class="code-line_f18fcql6">Measure.ceil</code></li><li><code class="code-line_f18fcql6">Measure.floor</code></li><li><code class="code-line_f18fcql6">Measure.fround</code></li><li><code class="code-line_f18fcql6">Measure.round</code></li><li><code class="code-line_f18fcql6">Measure.trunc</code></li></ul><p>There is also a wrapper for <code class="code-line_f18fcql6">Math.hypot</code> that takes in one or more measures all with the same unit and returns a single measure of that unit.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> distance = Measure.of(<span class="hljs-number">-9.8</span>, meters);

Measure.abs(distance); <span class="hljs-comment">// 9.8 m</span>
Measure.trunc(distance); <span class="hljs-comment">// -9 m</span>

<span class="hljs-keyword">const</span> width = Measure.of(<span class="hljs-number">3</span>, meters);
<span class="hljs-keyword">const</span> height = Measure.of(<span class="hljs-number">4</span>, meters);

Measure.hypot(width, height); <span class="hljs-comment">// 5 m</span>
</code></pre><h3 id="roots">Roots</h3><p>The <code class="code-line_f18fcql6">Measure</code> class also provides wrappers for the <code class="code-line_f18fcql6">Math.sqrt</code> and <code class="code-line_f18fcql6">Math.cbrt</code> functions. However, not all units have valid roots and these functions will result in compile time errors when given units that don<!-- -->&#x27;<!-- -->t produce roots with integer exponents.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> area: Area = Measure.of(<span class="hljs-number">64</span>, meters.squared());
<span class="hljs-keyword">const</span> volume: Volume = Measure.of(<span class="hljs-number">125</span>, meters.cubed());

Measure.sqrt(area); <span class="hljs-comment">// 8 m</span>
Measure.cbrt(volume); <span class="hljs-comment">// 5 m</span>

Measure.cbrt(area); <span class="hljs-comment">// ERROR: Cannot take the cube root of a unit of the form m^2</span>
Measure.sqrt(volume); <span class="hljs-comment">// ERROR: Cannot take the square root of a unit of the form m^3</span>
</code></pre><h3 id="comparisons">Comparisons</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.lt(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
Measure&lt;U&gt;.lte(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
Measure&lt;U&gt;.eq(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
Measure&lt;U&gt;.neq(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
Measure&lt;U&gt;.gte(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
Measure&lt;U&gt;.gt(other: Measure&lt;U&gt;): <span class="hljs-built_in">boolean</span>;
</code></pre><p>Measures are only comparable if they are of the same unit.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> t1 = Measure.of(<span class="hljs-number">30</span>, minutes);
<span class="hljs-keyword">const</span> t2 = Measure.of(<span class="hljs-number">0.25</span>, hours);
<span class="hljs-keyword">const</span> d1 = Measure.of(<span class="hljs-number">10</span>, meters);

t1.gt(t2); <span class="hljs-comment">// true</span>
t1.eq(d1) <span class="hljs-comment">// ERROR: Cannot compare temporal and distance values</span>
</code></pre><h3 id="symbols">Symbols</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.withSymbol(symbol: <span class="hljs-built_in">string</span>): Measure&lt;U&gt;;
</code></pre><p>Duplicates the current measure and gives the new measure a symbol. Symbols are specific to an instance of a measure, performing operations on that measure will not forward along any symbols to the resulting measures. Calling <code class="code-line_f18fcql6">m.withSymbol(s)</code> is equivalent to calling <code class="code-line_f18fcql6">Measure.of(1, m, s)</code>. The symbol of a measure can be seen by accessing the readonly <code class="code-line_f18fcql6">symbol</code> field.</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> squareMeters = meters.squared().withSymbol(<span class="hljs-string">"sq. m"</span>);

squareMeters.symbol; <span class="hljs-comment">// "sq. m"</span>

<span class="hljs-comment">// All of the following lose the symbol from squareMeters:</span>
<span class="hljs-keyword">const</span> r1 = squareMeters.scale(<span class="hljs-number">2</span>);
<span class="hljs-keyword">const</span> r2 = Measure.of(<span class="hljs-number">10</span>, squareMeters);
<span class="hljs-keyword">const</span> r3 = Measure.divide(squareMeters, meters);
</code></pre><p>Symbols are used in converting other measures into strings as can be seen below.</p><h3 id="formatting">Formatting</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.toString(): <span class="hljs-built_in">string</span>;
Measure&lt;U&gt;.in(unit: Measure&lt;U&gt;): <span class="hljs-built_in">string</span>;
</code></pre><p>The first method, <code class="code-line_f18fcql6">toString</code>, creates a string version of the unit, ignoring any <a class="link_f1f6a5l8" href="#symbols">symbol</a> information on that measure. The second method, <code class="code-line_f18fcql6">in</code>, will format a given unit as if it is given in units of the second measure, assuming the second measure has a symbol. If not, this is equivalent to calling <code class="code-line_f18fcql6">toString()</code>.</p><p><em>Examples:</em></p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> kilometers = Measure.of(<span class="hljs-number">1000</span>, meters, <span class="hljs-string">"km"</span>);
<span class="hljs-comment">// Could also be written as: Measure.of(1000, meters).withSymbol("km")</span>

<span class="hljs-keyword">const</span> distance = Measure.of(<span class="hljs-number">5</span>, kilometers);
<span class="hljs-built_in">console</span>.log(distance.toString()); <span class="hljs-comment">// 5000 m</span>
<span class="hljs-built_in">console</span>.log(distance.in(kilometers)); <span class="hljs-comment">// 5 km</span>
<span class="hljs-built_in">console</span>.log(kilometers.in(kilometers)); <span class="hljs-comment">// 1 km</span>

<span class="hljs-keyword">const</span> force = Measure.of(<span class="hljs-number">30</span>, newtons);
<span class="hljs-built_in">console</span>.log(force.toString()); <span class="hljs-comment">// 30 kg * m * s^-2</span>
<span class="hljs-built_in">console</span>.log(force.in(newtons)); <span class="hljs-comment">// 30 N</span>
</code></pre><h3 id="unsafe-mappings">Unsafe Mappings</h3><pre><code class="hljs typescript code-block_f1ad8bvh">Measure&lt;U&gt;.unsafeMap(valueMap: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>): Measure&lt;U&gt;;
Measure&lt;U&gt;.unsafeMap&lt;V&gt;(
   valueMap: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span>,
   unitMap: <span class="hljs-function">(<span class="hljs-params">unit: UnitWithSymbols&lt;U&gt;</span>) =&gt;</span> UnitWithSymbols&lt;V&gt;,
): Measure&lt;V&gt;;
</code></pre><p>If only one argument is passed, performs a mapping on the value of a measure without affecting the unit of the measure. If both arguments are passed maps both the unit and value of a measure. This is generally used for internal purposes and should be avoided when possible. Instead consider using a <a class="link_f1f6a5l8" href="#function-wrappers">function wrapper</a>.</p><h2 id="representation">Representation</h2><p>A <code class="code-line_f18fcql6">Measure</code> represents a value in terms its most basic units. For example, consider we build up a unit system for currency as follows:</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> dollars = Measure.dimension(<span class="hljs-string">"currency"</span>, <span class="hljs-string">"$"</span>);
<span class="hljs-keyword">const</span> Currency = dollars;
<span class="hljs-keyword">type</span> Currency = <span class="hljs-keyword">typeof</span> dollars;

<span class="hljs-keyword">const</span> CashFlowRate = Currency.over(Time);
<span class="hljs-keyword">type</span> CashFlowRate = <span class="hljs-keyword">typeof</span> CashFlowRate;

<span class="hljs-keyword">const</span> pounds: Currency = Measure.of(<span class="hljs-number">1.31</span>, dollars, <span class="hljs-string">"£"</span>);
</code></pre><p>Then when deriving values from <code class="code-line_f18fcql6">pounds</code>, the underlying values are still represented as dollars:</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> profit: Currency = Measure.of(<span class="hljs-number">60</span>, pounds); <span class="hljs-comment">// 78.6 dollars</span>
<span class="hljs-keyword">const</span> elapsed: Time = Measure.of(<span class="hljs-number">1</span>, minutes);    <span class="hljs-comment">// 60 seconds</span>
<span class="hljs-keyword">const</span> rate: CashFlowRate = profit.per(elapsed);  <span class="hljs-comment">// 1.31 dollars / second</span>
</code></pre><p>In this way, we never actually have to perform unit conversions since, under the hood, all measures with the same dimension are always represented with the same units. We can format these values using any unit we want with the <code class="code-line_f18fcql6">in</code> method:</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> poundsPerSecond: CashFlowRate = pounds.per(seconds).withSymbol(<span class="hljs-string">"£/s"</span>);

profit.in(pounds); <span class="hljs-comment">// 60 £</span>
elapsed.in(minutes); <span class="hljs-comment">// 1 min</span>
rate.in(poundsPerSecond); <span class="hljs-comment">// 1 £/s</span>
</code></pre><h2 id="function-wrappers">Function Wrappers</h2><p>It is often desirable to convert operations on numbers into operations on measures. Frequently, these functions make no change on the unit of a value. For example, suppose we want to make an absolute value function that operates on measures. We<!-- -->&#x27;<!-- -->d expect the function perserve the unit of the input. We can simply wrap an existing absolute value function using <code class="code-line_f18fcql6">wrapUnaryFn</code>:</p><pre><code class="hljs typescript code-block_f1ad8bvh"><span class="hljs-keyword">const</span> measureAbs = wrapUnaryFn(<span class="hljs-built_in">Math</span>.abs);
<span class="hljs-keyword">const</span> time = Measure.of(<span class="hljs-number">-30</span>, seconds);
measureAbs(time); <span class="hljs-comment">// 30 s</span>
</code></pre><p>The following function wrappers are provided:</p><ul><li><code class="code-line_f18fcql6">wrapUnaryFn</code> - Wraps a function of a single number.</li><li><code class="code-line_f18fcql6">wrapBinaryFn</code> - Wraps a function of two numbers, returning a function that expects two measures of the same unit.</li><li><code class="code-line_f18fcql6">wrapSpreadFn</code> - Wraps a function that takes any number of numbers and returns a function that takes one or more measures of the same unit.</li><li><code class="code-line_f18fcql6">wrapRootFn</code> - Wraps a function that takes the nth root of a given number for a specific n and returns a function that takes nth root of a measure<!-- -->&#x27;<!-- -->s value and unit.</li></ul><div class="end-matter_f4p462k"><a class="link_f1f6a5l8" href="https://github.com/jscheiny/safe-units">Safe Units</a> is developed by Jonah Scheinerman. Please <a class="link_f1f6a5l8" href="mailto:jonah@scheinerman.net">contact me</a> if you have questions or concerns.<div class="license_fm83fiy">Safe Units is distributed under the<!-- --> <a class="link_f1f6a5l8" href="https://opensource.org/licenses/MIT">MIT open source license</a>.<br/><br/>Copyright © <!-- -->2019<!-- --> by Jonah Scheinerman</div></div></div></div></div></body>
</html>