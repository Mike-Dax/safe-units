<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Safe Units</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>body{font-family:"Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;font-size:16px;line-height:1.5}body pre, body code{font-family:'Ubuntu Mono', monospace}h1, h2, h3, h4, h5, h6{font-family:'Open Sans', sans-serif}h2, h3{margin-bottom:0.5em;margin-left:-20px;margin-top:2em}body h1{color:#6272a4;margin:0;margin-left:-20px;padding-bottom:20px;padding-top:25px}.code-block_fcjziqk{border-radius:3px}.code-block_fcjziqk.code-block_fcjziqk{padding:20px}.code-inline_fji86su{color:#6272a4;font-size:18px}.link_f5wbv6l{color:#008075;text-decoration:none}.link_f5wbv6l:hover{color:#00B3A4;text-decoration:underline}.sidebar_f1rerch0{font-size:14px;min-width:250px;overflow:auto}.page-link_f1tyka1u{align-items:center;background:#E1E8ED;color:#293742;display:flex;font-weight:bold;margin:5px 0;padding:5px 10px;text-decoration:none}.page-link_f1tyka1u:hover{background:#BFCCD6}.f1xul979{color:#6272a4}.fsmhnc8{color:#293742}.f1dqd257{background:#6272a4;color:#F5F8FA}.f1dqd257:hover{background:#6272a4;color:#CED9E0}.section-link_f11olvty{color:#293742;display:block;text-decoration:none}.section-link_f11olvty:hover{background:#E1E8ED}.section_fhlxm4f{padding:3px 20px}.subsection_f1uja56n{color:#5C7080;padding:3px 40px}.links_fyye2pd:last-child{margin-bottom:20px}.links_fyye2pd:first-child{margin-top:20px}.links_fw5uhqg{height:14px;margin-right:5px;width:14px}.page_f1ujoio{display:flex;flex-direction:row;height:100vh;width:100vw}.contents_fsyo629{background:#EBF1F5;box-shadow:inset 15px 0 30px -30px #182026;flex:1 1 auto;overflow:auto;position:relative}.body_fyistef{margin:0 25px 25px 55px;max-width:800px}.end-matter_f1davdfv{border-top:1px solid #BFCCD6;font-size:14px;margin-top:20px;padding-top:20px;text-align:center}.license_f1io6m0d{color:#738694;font-size:12px;margin-top:20px;text-shadow:0 1px 0 white}</style>
        <link rel="stylesheet" type="text/css" media="screen" href="styles/highlight.css" />
<link rel="stylesheet" type="text/css" media="screen" href="styles/normalize.css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono" rel="stylesheet">
    </head>
    <body><div class="page_f1ujoio" data-reactroot=""><div class="sidebar_f1rerch0"><div class="links_fyye2pd"><a class="f1xul979 f1dqd257 page-link_f1tyka1u" href="index.html#top">Safe Units</a><a class="section_fhlxm4f section-link_f11olvty" href="#prerequisites">Prerequisites</a><a class="section_fhlxm4f section-link_f11olvty" href="#installation">Installation</a><a class="section_fhlxm4f section-link_f11olvty" href="#examples">Examples</a><a class="subsection_f1uja56n section-link_f11olvty" href="#unit-arithmetic">Unit arithmetic</a><a class="subsection_f1uja56n section-link_f11olvty" href="#type-errors">Type errors</a><a class="subsection_f1uja56n section-link_f11olvty" href="#naming-units">Naming units</a><a class="subsection_f1uja56n section-link_f11olvty" href="#deriving-quantities">Deriving quantities</a><a class="subsection_f1uja56n section-link_f11olvty" href="#defining-dimensions">Defining dimensions</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_f1tyka1u" href="measures.html">Measures</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_f1tyka1u" href="generic-measures.html">Generic Measures</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_f1tyka1u" href="defining-quantities.html">Defining Quantities</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_f1tyka1u" href="limitations.html">Limitations</a></div><div class="links_fyye2pd"><a class="fsmhnc8 page-link_f1tyka1u" href="builtin.html">Built-in Units</a></div><a class="f1dqd257 page-link_f1tyka1u" href="https://github.com/jscheiny/safe-units"><img class="links_fw5uhqg" src="images/github-icon.png"/> View on github</a></div><div class="contents_fsyo629"><div class="body_fyistef"><div id="top"></div><h1 id="safe-units">Safe Units</h1><p><a class="link_f5wbv6l" href="https://travis-ci.org/jscheiny/safe-units"><img src="https://travis-ci.org/jscheiny/safe-units.svg?branch=master" alt="Build Status"/></a> <a class="link_f5wbv6l" href="https://www.npmjs.com/package/safe-units"><img src="https://img.shields.io/npm/v/safe-units.svg" alt="NPM Version"/></a> <a class="link_f5wbv6l" href="https://github.com/jscheiny/safe-units/blob/master/LICENSE"><img src="https://img.shields.io/npm/l/safe-units.svg" alt="MIT License"/></a></p><p>Safe Units is a type safe library for using units of measurement in TypeScript. Check it out on <a class="link_f5wbv6l" href="https://github.com/jscheiny/safe-units">github</a>. Safe Units provides an implementation of an SI based unit system but is flexible enough to allow users to create their own unit systems which can be independent or can interoperate with the built-in units. Users can also make unit systems for any numeric type they<!-- -->&#x27;<!-- -->d like not just the JavaScript <code class="code-inline_fji86su">number</code> type. This library requires TypeScript 3.2 or higher.</p><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { Length, Measure, meters, seconds, Time, Velocity } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> length: Length = Measure.of(<span class="hljs-number">30</span>, meters);
<span class="hljs-keyword">const</span> time: Time = Measure.of(<span class="hljs-number">15</span>, seconds);
<span class="hljs-keyword">const</span> velocity: Velocity = length.over(time);

<span class="hljs-built_in">console</span>.log(length.toString());   <span class="hljs-comment">// 30 m</span>
<span class="hljs-built_in">console</span>.log(time.toString());     <span class="hljs-comment">// 15 s</span>
<span class="hljs-built_in">console</span>.log(velocity.toString()); <span class="hljs-comment">// 2 m * s^-1</span>

<span class="hljs-keyword">const</span> error: Velocity = length.times(time);
<span class="hljs-comment">// ERROR: A measure of m*s isn't assignable to a measure of m/s.</span>
</code></pre><p><strong>Features include:</strong></p><p>⭐<!-- --> <!-- --> Compile-time unit arithmetic for typesafe dimensional analysis (with exponents between -5 and +5)<!-- -->!</p><p>⭐<!-- --> <!-- --> Large library of predefined units including metric (with prefixes), Imperial, and US customary units<!-- -->!</p><p>⭐<!-- --> <!-- --> Ability to add your own unit system that can work with built-in units<!-- -->!</p><p>⭐<!-- --> <!-- --> Long build times <!-- -->&amp;<!-- --> cryptic error messages<!-- -->!</p><h2 id="prerequisites">Prerequisites</h2><p>Safe units is written in TypeScript and should be consumed by TypeScript users to take full advantage of what it provides. In addition you will need the following:</p><ul><li><a class="link_f5wbv6l" href="http://www.typescriptlang.org/">TypeScript</a> 3.2 or later</li><li><a class="link_f5wbv6l" href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">Strict null checks</a> enabled for your project</li></ul><h2 id="installation">Installation</h2><pre><code class="hljs typescript code-block_fcjziqk">npm install safe-units
</code></pre><p>or</p><pre><code class="hljs typescript code-block_fcjziqk">yarn add safe-units
</code></pre><h2 id="examples">Examples</h2><h3 id="unit-arithmetic">Unit arithmetic</h3><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { bars, kilograms, Measure, meters, milli, seconds } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> width = Measure.of(<span class="hljs-number">3</span>, meters);
<span class="hljs-keyword">const</span> height = Measure.of(<span class="hljs-number">4</span>, meters);
<span class="hljs-keyword">const</span> area = width.times(height).scale(<span class="hljs-number">0.5</span>);
<span class="hljs-keyword">const</span> hypot = Measure.sqrt(width.squared().plus(height.squared())); <span class="hljs-comment">// 5 m</span>

<span class="hljs-keyword">const</span> mass = Measure.of(<span class="hljs-number">30</span>, kilograms);
<span class="hljs-keyword">const</span> mps2 = meters.per(seconds.squared());
<span class="hljs-keyword">const</span> acceleration = Measure.of(<span class="hljs-number">9.8</span>, mps2);

<span class="hljs-keyword">const</span> force = mass.times(acceleration); <span class="hljs-comment">// 294 N</span>
<span class="hljs-keyword">const</span> pressure = force.over(area); <span class="hljs-comment">// 49 Pa</span>
<span class="hljs-keyword">const</span> maxPressure = Measure.of(<span class="hljs-number">0.5</span>, milli(bars)); <span class="hljs-comment">// 0.5 mbar</span>
pressure.lt(maxPressure) <span class="hljs-comment">// true</span>
</code></pre><h3 id="type-errors">Type errors</h3><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { Force, Length, Measure, meters, seconds, Time } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> length: Length = Measure.of(<span class="hljs-number">10</span>, meters);
<span class="hljs-keyword">const</span> time: Time = Measure.of(<span class="hljs-number">10</span>, seconds);

length.plus(time);
<span class="hljs-comment">// ERROR: Measures of different units cannot be added</span>

length.minus(time);
<span class="hljs-comment">// ERROR: Measures of different units cannot be subtracted</span>

<span class="hljs-keyword">const</span> force: Force = length.over(time);
<span class="hljs-comment">// ERROR: Measure of m/s is not assignable to measure of kg*m/s^2</span>

<span class="hljs-keyword">const</span> root = Measure.sqrt(length);
<span class="hljs-comment">// ERROR: Can't take sqrt of measure of m since it's not a perfect square</span>
</code></pre><h3 id="naming-units">Naming units</h3><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { days, Measure, miles, speedOfLight, yards } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> furlongs = Measure.of(<span class="hljs-number">220</span>, yards, <span class="hljs-string">"fur"</span>);

<span class="hljs-built_in">console</span>.log(Measure.of(<span class="hljs-number">8</span>, furlongs).in(miles)); <span class="hljs-comment">// 1 mi</span>
<span class="hljs-built_in">console</span>.log(Measure.of(<span class="hljs-number">1</span>, miles).in(furlongs)); <span class="hljs-comment">// 8 fur</span>

<span class="hljs-keyword">const</span> fortnights = Measure.of(<span class="hljs-number">14</span>, days, <span class="hljs-string">"ftn"</span>);
<span class="hljs-keyword">const</span> megaFurlongsPerMicroFortnight = mega(furlongs)
    .per(micro(fortnights))
    .withSymbol(<span class="hljs-string">"Mfur/µftn"</span>);

<span class="hljs-built_in">console</span>.log(speedOfLight.in(megaFurlongsPerMicroFortnight)); <span class="hljs-comment">// 1.8026174997852542 Mfur/µftn</span>
</code></pre><h3 id="deriving-quantities">Deriving quantities</h3><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { Acceleration, Measure, meters, seconds, Time } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> Jerk = Acceleration.over(Time);
<span class="hljs-keyword">type</span> Jerk = <span class="hljs-keyword">typeof</span> Jerk;

<span class="hljs-keyword">const</span> mps2 = meters.per(seconds.squared());
<span class="hljs-keyword">const</span> acceleration = Measure.of(<span class="hljs-number">9.8</span>, mps2);
<span class="hljs-keyword">const</span> jerk: Jerk = acceleration.over(Measure.of(<span class="hljs-number">2</span>, seconds));

<span class="hljs-built_in">console</span>.log(jerk.toString()); <span class="hljs-comment">// 4.9 m * s^-3</span>
</code></pre><h3 id="defining-dimensions">Defining dimensions</h3><pre><code class="hljs typescript code-block_fcjziqk"><span class="hljs-keyword">import</span> { Area, Measure, minutes, seconds, Time } <span class="hljs-keyword">from</span> <span class="hljs-string">"safe-units"</span>;

<span class="hljs-keyword">const</span> frames = Measure.dimension(<span class="hljs-string">"frames"</span>);

<span class="hljs-keyword">const</span> Frames = frames;
<span class="hljs-keyword">type</span> Frames = <span class="hljs-keyword">typeof</span> frames;

<span class="hljs-keyword">const</span> FrameRate = Frames.over(Time);
<span class="hljs-keyword">type</span> FrameRate = <span class="hljs-keyword">typeof</span> FrameRate;

<span class="hljs-keyword">const</span> fps: FrameRate = frames.per(seconds).withSymbol(<span class="hljs-string">"fps"</span>);

<span class="hljs-keyword">const</span> minFrameRate = Measure.of(<span class="hljs-number">60</span>, fps);

<span class="hljs-keyword">const</span> measuredFrames = Measure.of(<span class="hljs-number">8000</span>, frames);
<span class="hljs-keyword">const</span> elapsedTime = Measure.of(<span class="hljs-number">2</span>, minutes);
<span class="hljs-keyword">const</span> measuredFps: FrameRate = measuredFrames.over(elapsedTime);

<span class="hljs-keyword">if</span> (measuredFps.lt(minFrameRate)) {
    <span class="hljs-comment">// Optimize</span>
}
</code></pre><div class="end-matter_f1davdfv"><a class="link_f5wbv6l" href="https://github.com/jscheiny/safe-units">Safe Units</a> is developed by Jonah Scheinerman. Please <a class="link_f5wbv6l" href="mailto:jonah@scheinerman.net">contact me</a> if you have questions or concerns.<div class="license_f1io6m0d">Safe Units is distributed under the<!-- --> <a class="link_f5wbv6l" href="https://opensource.org/licenses/MIT">MIT open source license</a>.<br/><br/>Copyright © <!-- -->2019<!-- --> by Jonah Scheinerman</div></div></div></div></div></body>
</html>